generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model armies {
  id          String     @id
  category_id Int
  name        String     @unique
  description String     @db.VarChar(255)
  banner_url  String?
  categories  categories @relation(fields: [category_id], references: [id], onDelete: SetNull, onUpdate: NoAction, map: "fk_categoryid")
  units       units[]
}

model categories {
  id         Int      @id @default(autoincrement())
  name       String   @unique
  banner_url String?
  armies     armies[]
}

model units {
  id              Int    @id @default(autoincrement())
  unit_id         Int
  faction_id      String
  line            Int
  name            String
  m               String
  ws              String
  bs              String
  s               String
  t               String
  w               String
  a               String
  ld              String
  sv              String @default(dbgenerated("0"))
  models_per_unit String
  cost            Int    @default(0)
  armies          armies @relation(fields: [faction_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_factionid")
}

model userprofile {
  userid     Int    @id @default(autoincrement())
  firebaseid String @unique @db.VarChar
  username   String @unique
}
